<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>modelbox-lite: modelbox::Buffer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">modelbox-lite
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemodelbox.html">modelbox</a></li><li class="navelem"><a class="el" href="classmodelbox_1_1Buffer.html">Buffer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classmodelbox_1_1Buffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">modelbox::Buffer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Data buffer, the basic unit of data processing in the flow.  
 <a href="classmodelbox_1_1Buffer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="buffer_8h_source.html">buffer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for modelbox::Buffer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classmodelbox_1_1Buffer.png" usemap="#modelbox::Buffer_map" alt=""/>
  <map id="modelbox::Buffer_map" name="modelbox::Buffer_map">
<area href="classmodelbox_1_1TensorBuffer.html" title="Interface to access the data buffer with tensor API. " alt="modelbox::TensorBuffer" shape="rect" coords="0,112,235,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a443be32f0e2970a9e319e97769f294c7"><td class="memItemLeft" align="right" valign="top"><a id="a443be32f0e2970a9e319e97769f294c7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a443be32f0e2970a9e319e97769f294c7">Buffer</a> ()</td></tr>
<tr class="memdesc:a443be32f0e2970a9e319e97769f294c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">New data buffer. <br /></td></tr>
<tr class="separator:a443be32f0e2970a9e319e97769f294c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d402b5ba3746a9067840b532041ee80"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a0d402b5ba3746a9067840b532041ee80">Buffer</a> (const std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1Device.html">Device</a> &gt; &amp;device, uint32_t dev_mem_flags=0)</td></tr>
<tr class="memdesc:a0d402b5ba3746a9067840b532041ee80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new buffer related with specific device.  <a href="#a0d402b5ba3746a9067840b532041ee80">More...</a><br /></td></tr>
<tr class="separator:a0d402b5ba3746a9067840b532041ee80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77cfbc013fa51c43d6764af1292f87a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a77cfbc013fa51c43d6764af1292f87a0">Buffer</a> (const std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1DeviceMemory.html">DeviceMemory</a> &gt; &amp;dev_mem)</td></tr>
<tr class="memdesc:a77cfbc013fa51c43d6764af1292f87a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new buffer related with specific device memory.  <a href="#a77cfbc013fa51c43d6764af1292f87a0">More...</a><br /></td></tr>
<tr class="separator:a77cfbc013fa51c43d6764af1292f87a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a223b91646f32f742565b293f8a10dbf9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a223b91646f32f742565b293f8a10dbf9">Buffer</a> (const <a class="el" href="classmodelbox_1_1Buffer.html">Buffer</a> &amp;buffer)</td></tr>
<tr class="memdesc:a223b91646f32f742565b293f8a10dbf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor, copy meta from other buffer.  <a href="#a223b91646f32f742565b293f8a10dbf9">More...</a><br /></td></tr>
<tr class="separator:a223b91646f32f742565b293f8a10dbf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f5af012d643674bf4427f4487b601e5"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmodelbox_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a3f5af012d643674bf4427f4487b601e5">Build</a> (size_t size)</td></tr>
<tr class="memdesc:a3f5af012d643674bf4427f4487b601e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a buffer, apply for memory.  <a href="#a3f5af012d643674bf4427f4487b601e5">More...</a><br /></td></tr>
<tr class="separator:a3f5af012d643674bf4427f4487b601e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2c8f010bbb6a7b61a7bd7e48290a643"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmodelbox_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#ab2c8f010bbb6a7b61a7bd7e48290a643">Build</a> (void *data, size_t data_size, DeleteFunction func=nullptr)</td></tr>
<tr class="memdesc:ab2c8f010bbb6a7b61a7bd7e48290a643"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a buffer from existing memory.  <a href="#ab2c8f010bbb6a7b61a7bd7e48290a643">More...</a><br /></td></tr>
<tr class="separator:ab2c8f010bbb6a7b61a7bd7e48290a643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa29b96ae706751959ee7502ffc8eed09"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmodelbox_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#aa29b96ae706751959ee7502ffc8eed09">BuildFromHost</a> (void *data, size_t data_size, DeleteFunction func=nullptr)</td></tr>
<tr class="memdesc:aa29b96ae706751959ee7502ffc8eed09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a buffer from existing host memory.  <a href="#aa29b96ae706751959ee7502ffc8eed09">More...</a><br /></td></tr>
<tr class="separator:aa29b96ae706751959ee7502ffc8eed09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62055c674eea7e5469af8a53f3b5ddc3"><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a62055c674eea7e5469af8a53f3b5ddc3">MutableData</a> ()</td></tr>
<tr class="memdesc:a62055c674eea7e5469af8a53f3b5ddc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get buffer mutable data pointer, if data is immutable, null pointer will return.  <a href="#a62055c674eea7e5469af8a53f3b5ddc3">More...</a><br /></td></tr>
<tr class="separator:a62055c674eea7e5469af8a53f3b5ddc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a515794a332a7cb38822e5d690b9076f0"><td class="memItemLeft" align="right" valign="top">virtual const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a515794a332a7cb38822e5d690b9076f0">ConstData</a> ()</td></tr>
<tr class="memdesc:a515794a332a7cb38822e5d690b9076f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get buffer data pointer, buffer pointer is readonly.  <a href="#a515794a332a7cb38822e5d690b9076f0">More...</a><br /></td></tr>
<tr class="separator:a515794a332a7cb38822e5d690b9076f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aa4c88bff8ff9c4103959ab8a155af5"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a3aa4c88bff8ff9c4103959ab8a155af5">HasError</a> () const</td></tr>
<tr class="memdesc:a3aa4c88bff8ff9c4103959ab8a155af5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is there an error.  <a href="#a3aa4c88bff8ff9c4103959ab8a155af5">More...</a><br /></td></tr>
<tr class="separator:a3aa4c88bff8ff9c4103959ab8a155af5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c1aad9a04ca913ac5dbc1bfa691b032"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmodelbox_1_1Buffer.html">Buffer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a5c1aad9a04ca913ac5dbc1bfa691b032">SetError</a> (const std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1FlowUnitError.html">FlowUnitError</a> &gt; &amp;error)</td></tr>
<tr class="memdesc:a5c1aad9a04ca913ac5dbc1bfa691b032"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save error.  <a href="#a5c1aad9a04ca913ac5dbc1bfa691b032">More...</a><br /></td></tr>
<tr class="separator:a5c1aad9a04ca913ac5dbc1bfa691b032"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c88cd4d11c9b0d1940df1c83816442d"><td class="memItemLeft" align="right" valign="top">virtual const std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1FlowUnitError.html">FlowUnitError</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a6c88cd4d11c9b0d1940df1c83816442d">GetError</a> () const</td></tr>
<tr class="memdesc:a6c88cd4d11c9b0d1940df1c83816442d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get flowunit error.  <a href="#a6c88cd4d11c9b0d1940df1c83816442d">More...</a><br /></td></tr>
<tr class="separator:a6c88cd4d11c9b0d1940df1c83816442d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f167da469c1d9c808cb0192ba25fee"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a65f167da469c1d9c808cb0192ba25fee">GetBytes</a> () const</td></tr>
<tr class="memdesc:a65f167da469c1d9c808cb0192ba25fee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get buffer size in bytes.  <a href="#a65f167da469c1d9c808cb0192ba25fee">More...</a><br /></td></tr>
<tr class="separator:a65f167da469c1d9c808cb0192ba25fee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec921f373997727a752e38c70229a8aa"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmodelbox_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#aec921f373997727a752e38c70229a8aa">CopyMeta</a> (const std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1Buffer.html">Buffer</a> &gt; buf, bool is_override=false)</td></tr>
<tr class="memdesc:aec921f373997727a752e38c70229a8aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy meta from other buffer.  <a href="#aec921f373997727a752e38c70229a8aa">More...</a><br /></td></tr>
<tr class="separator:aec921f373997727a752e38c70229a8aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a6fa603a2d042aad1b2ae808ea40055"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a5a6fa603a2d042aad1b2ae808ea40055"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a5a6fa603a2d042aad1b2ae808ea40055">Set</a> (const std::string &amp;key, T &amp;&amp;value)</td></tr>
<tr class="memdesc:a5a6fa603a2d042aad1b2ae808ea40055"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set meta key to buffer.  <a href="#a5a6fa603a2d042aad1b2ae808ea40055">More...</a><br /></td></tr>
<tr class="separator:a5a6fa603a2d042aad1b2ae808ea40055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9787e2c81a622256ede0738e2ce8e54"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:af9787e2c81a622256ede0738e2ce8e54"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#af9787e2c81a622256ede0738e2ce8e54">Get</a> (const std::string &amp;key, T &amp;&amp;value)</td></tr>
<tr class="memdesc:af9787e2c81a622256ede0738e2ce8e54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get meta key from the buffer.  <a href="#af9787e2c81a622256ede0738e2ce8e54">More...</a><br /></td></tr>
<tr class="separator:af9787e2c81a622256ede0738e2ce8e54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97814d047dbd7efbe6f8387d47692dc1"><td class="memItemLeft" align="right" valign="top">std::tuple&lt; <a class="el" href="classmodelbox_1_1Any.html">Any</a> *, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a97814d047dbd7efbe6f8387d47692dc1">Get</a> (const std::string &amp;key)</td></tr>
<tr class="memdesc:a97814d047dbd7efbe6f8387d47692dc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get value of key return tuple.  <a href="#a97814d047dbd7efbe6f8387d47692dc1">More...</a><br /></td></tr>
<tr class="separator:a97814d047dbd7efbe6f8387d47692dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65a3ac5c47273f98a958f77563be5800"><td class="memTemplParams" colspan="2">template&lt;typename T , typename U &gt; </td></tr>
<tr class="memitem:a65a3ac5c47273f98a958f77563be5800"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a65a3ac5c47273f98a958f77563be5800">Get</a> (const std::string &amp;key, T &amp;&amp;value, const U &amp;default_value)</td></tr>
<tr class="memdesc:a65a3ac5c47273f98a958f77563be5800"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get meta key from the buffer, when the key does not exist, return to the default value.  <a href="#a65a3ac5c47273f98a958f77563be5800">More...</a><br /></td></tr>
<tr class="separator:a65a3ac5c47273f98a958f77563be5800"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af79070b9934c4729b5d697bcee085148"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1Device.html">Device</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#af79070b9934c4729b5d697bcee085148">GetDevice</a> () const</td></tr>
<tr class="memdesc:af79070b9934c4729b5d697bcee085148"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the device object related to the buffer.  <a href="#af79070b9934c4729b5d697bcee085148">More...</a><br /></td></tr>
<tr class="separator:af79070b9934c4729b5d697bcee085148"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f263554390369aa27b9e012b7aabc47"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1Buffer.html">Buffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a7f263554390369aa27b9e012b7aabc47">Copy</a> () const</td></tr>
<tr class="memdesc:a7f263554390369aa27b9e012b7aabc47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy buffer, only copy object, share same data memory.  <a href="#a7f263554390369aa27b9e012b7aabc47">More...</a><br /></td></tr>
<tr class="separator:a7f263554390369aa27b9e012b7aabc47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ce7c2e1bed21a42ec43d3fb4db719ec"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1Buffer.html">Buffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a5ce7c2e1bed21a42ec43d3fb4db719ec">DeepCopy</a> () const</td></tr>
<tr class="memdesc:a5ce7c2e1bed21a42ec43d3fb4db719ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy buffer, include meta and memory.  <a href="#a5ce7c2e1bed21a42ec43d3fb4db719ec">More...</a><br /></td></tr>
<tr class="separator:a5ce7c2e1bed21a42ec43d3fb4db719ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afea5dabd04437e67203827d9c9f50075"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1Buffer.html">Buffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#afea5dabd04437e67203827d9c9f50075">CopyTo</a> (const std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1Device.html">Device</a> &gt; &amp;dest_device) const</td></tr>
<tr class="memdesc:afea5dabd04437e67203827d9c9f50075"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy buffer, include meta and memory.  <a href="#afea5dabd04437e67203827d9c9f50075">More...</a><br /></td></tr>
<tr class="separator:afea5dabd04437e67203827d9c9f50075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5116eea5a7c22579d3e52e87beebab79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacemodelbox.html#a5a06cea5f657a09c4aae312ad2c64ede">BufferEnumType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a5116eea5a7c22579d3e52e87beebab79">GetBufferType</a> () const</td></tr>
<tr class="memdesc:a5116eea5a7c22579d3e52e87beebab79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get buffer type.  <a href="#a5116eea5a7c22579d3e52e87beebab79">More...</a><br /></td></tr>
<tr class="separator:a5116eea5a7c22579d3e52e87beebab79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0837a8ed7c80ea82b165fe35baaa4c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#ab0837a8ed7c80ea82b165fe35baaa4c5">SetGetBufferType</a> (<a class="el" href="namespacemodelbox.html#a5a06cea5f657a09c4aae312ad2c64ede">BufferEnumType</a> type)</td></tr>
<tr class="memdesc:ab0837a8ed7c80ea82b165fe35baaa4c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set buffer type.  <a href="#ab0837a8ed7c80ea82b165fe35baaa4c5">More...</a><br /></td></tr>
<tr class="separator:ab0837a8ed7c80ea82b165fe35baaa4c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdc0f80507f1c57b17e0fce2f40a3af7"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1DeviceMemory.html">DeviceMemory</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#acdc0f80507f1c57b17e0fce2f40a3af7">GetDeviceMemory</a> () const</td></tr>
<tr class="memdesc:acdc0f80507f1c57b17e0fce2f40a3af7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get device memory of buffer.  <a href="#acdc0f80507f1c57b17e0fce2f40a3af7">More...</a><br /></td></tr>
<tr class="separator:acdc0f80507f1c57b17e0fce2f40a3af7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ab47c97f78c0dd7a82da87992dc2ec75a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmodelbox_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#ab47c97f78c0dd7a82da87992dc2ec75a">DeepCopy</a> (const <a class="el" href="classmodelbox_1_1Buffer.html">Buffer</a> &amp;other)</td></tr>
<tr class="memdesc:ab47c97f78c0dd7a82da87992dc2ec75a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deep copy buffer.  <a href="#ab47c97f78c0dd7a82da87992dc2ec75a">More...</a><br /></td></tr>
<tr class="separator:ab47c97f78c0dd7a82da87992dc2ec75a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ac46421fe587f00e1614b9c45cf12c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmodelbox_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a8ac46421fe587f00e1614b9c45cf12c4">SetBufferMutable</a> (bool is_mutable)</td></tr>
<tr class="memdesc:a8ac46421fe587f00e1614b9c45cf12c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set data mutable.  <a href="#a8ac46421fe587f00e1614b9c45cf12c4">More...</a><br /></td></tr>
<tr class="separator:a8ac46421fe587f00e1614b9c45cf12c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe582791b129894c1608c68550b5eef8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#abe582791b129894c1608c68550b5eef8">SetDelayedCopyDestinationDevice</a> (std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1Device.html">Device</a> &gt; dev)</td></tr>
<tr class="memdesc:abe582791b129894c1608c68550b5eef8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set delayed copy destination device.  <a href="#abe582791b129894c1608c68550b5eef8">More...</a><br /></td></tr>
<tr class="separator:abe582791b129894c1608c68550b5eef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58cdbe509547e708ddbe2d87e555c728"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a58cdbe509547e708ddbe2d87e555c728">SetDelayedCopyDestinationMemFlags</a> (uint32_t mem_flags)</td></tr>
<tr class="memdesc:a58cdbe509547e708ddbe2d87e555c728"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set delayed copy destination device memory flag.  <a href="#a58cdbe509547e708ddbe2d87e555c728">More...</a><br /></td></tr>
<tr class="separator:a58cdbe509547e708ddbe2d87e555c728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d0d834c31cc6cc0e2e4cd3ab090b7a8"><td class="memItemLeft" align="right" valign="top"><a id="a5d0d834c31cc6cc0e2e4cd3ab090b7a8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a5d0d834c31cc6cc0e2e4cd3ab090b7a8">ClearDelayedCopyDestinationInfo</a> ()</td></tr>
<tr class="memdesc:a5d0d834c31cc6cc0e2e4cd3ab090b7a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear delayed copy destination info. <br /></td></tr>
<tr class="separator:a5d0d834c31cc6cc0e2e4cd3ab090b7a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a976c72d744d420986c3d5fce9652c4c0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#a976c72d744d420986c3d5fce9652c4c0">GetDelayedCopyFlag</a> (std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1Device.html">Device</a> &gt; target_device)</td></tr>
<tr class="memdesc:a976c72d744d420986c3d5fce9652c4c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get whether need to delayed copy.  <a href="#a976c72d744d420986c3d5fce9652c4c0">More...</a><br /></td></tr>
<tr class="separator:a976c72d744d420986c3d5fce9652c4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea5498631dd0f3149181a18f4960c773"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmodelbox_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodelbox_1_1Buffer.html#aea5498631dd0f3149181a18f4960c773">MoveToTargetDevice</a> ()</td></tr>
<tr class="memdesc:aea5498631dd0f3149181a18f4960c773"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy buffer data to destination device  <a href="#aea5498631dd0f3149181a18f4960c773">More...</a><br /></td></tr>
<tr class="separator:aea5498631dd0f3149181a18f4960c773"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ad375dba6102450b91b6b577397afb6a7"><td class="memItemLeft" align="right" valign="top"><a id="ad375dba6102450b91b6b577397afb6a7"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>BufferList</b></td></tr>
<tr class="separator:ad375dba6102450b91b6b577397afb6a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7b55a9d1362e9e8d86dcaf4b8a1db6c"><td class="memItemLeft" align="right" valign="top"><a id="ad7b55a9d1362e9e8d86dcaf4b8a1db6c"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>ExternalDataMapImpl</b></td></tr>
<tr class="separator:ad7b55a9d1362e9e8d86dcaf4b8a1db6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceb7972e9209f8801fc257fa66908fc8"><td class="memTemplParams" colspan="2"><a id="aceb7972e9209f8801fc257fa66908fc8"></a>
template&lt;typename QueueType , typename Compare &gt; </td></tr>
<tr class="memitem:aceb7972e9209f8801fc257fa66908fc8"><td class="memTemplItemLeft" align="right" valign="top">class&#160;</td><td class="memTemplItemRight" valign="bottom"><b>NotifyPort</b></td></tr>
<tr class="separator:aceb7972e9209f8801fc257fa66908fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39a3cb3465e3b99fe90b2f3bacbef4a7"><td class="memItemLeft" align="right" valign="top"><a id="a39a3cb3465e3b99fe90b2f3bacbef4a7"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>BufferManageView</b></td></tr>
<tr class="separator:a39a3cb3465e3b99fe90b2f3bacbef4a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7613fa76c74e2c6f7df83539be9dc83"><td class="memItemLeft" align="right" valign="top"><a id="ad7613fa76c74e2c6f7df83539be9dc83"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>FlowUnitExecData</b></td></tr>
<tr class="separator:ad7613fa76c74e2c6f7df83539be9dc83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Data buffer, the basic unit of data processing in the flow. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0d402b5ba3746a9067840b532041ee80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d402b5ba3746a9067840b532041ee80">&#9670;&nbsp;</a></span>Buffer() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">modelbox::Buffer::Buffer </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1Device.html">Device</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dev_mem_flags</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new buffer related with specific device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>related device </td></tr>
    <tr><td class="paramname">dev_mem_flags</td><td>Flags to create device memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a77cfbc013fa51c43d6764af1292f87a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77cfbc013fa51c43d6764af1292f87a0">&#9670;&nbsp;</a></span>Buffer() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">modelbox::Buffer::Buffer </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1DeviceMemory.html">DeviceMemory</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>dev_mem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new buffer related with specific device memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev_mem</td><td>related device memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a223b91646f32f742565b293f8a10dbf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a223b91646f32f742565b293f8a10dbf9">&#9670;&nbsp;</a></span>Buffer() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">modelbox::Buffer::Buffer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmodelbox_1_1Buffer.html">Buffer</a> &amp;&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy constructor, copy meta from other buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>other buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3f5af012d643674bf4427f4487b601e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f5af012d643674bf4427f4487b601e5">&#9670;&nbsp;</a></span>Build() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classmodelbox_1_1Status.html">Status</a> modelbox::Buffer::Build </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a buffer, apply for memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>memory size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>create result </dd></dl>

</div>
</div>
<a id="ab2c8f010bbb6a7b61a7bd7e48290a643"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2c8f010bbb6a7b61a7bd7e48290a643">&#9670;&nbsp;</a></span>Build() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classmodelbox_1_1Status.html">Status</a> modelbox::Buffer::Build </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DeleteFunction&#160;</td>
          <td class="paramname"><em>func</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a buffer from existing memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>data pointer </td></tr>
    <tr><td class="paramname">data_size</td><td>data size </td></tr>
    <tr><td class="paramname">func</td><td>data free function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>create result </dd></dl>

</div>
</div>
<a id="aa29b96ae706751959ee7502ffc8eed09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa29b96ae706751959ee7502ffc8eed09">&#9670;&nbsp;</a></span>BuildFromHost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classmodelbox_1_1Status.html">Status</a> modelbox::Buffer::BuildFromHost </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DeleteFunction&#160;</td>
          <td class="paramname"><em>func</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a buffer from existing host memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>data pointer to host memory </td></tr>
    <tr><td class="paramname">data_size</td><td>data size </td></tr>
    <tr><td class="paramname">func</td><td>data free function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>create result </dd></dl>

</div>
</div>
<a id="a515794a332a7cb38822e5d690b9076f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a515794a332a7cb38822e5d690b9076f0">&#9670;&nbsp;</a></span>ConstData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const void* modelbox::Buffer::ConstData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get buffer data pointer, buffer pointer is readonly. </p>
<dl class="section return"><dt>Returns</dt><dd>const buffer data pointer </dd></dl>

</div>
</div>
<a id="a7f263554390369aa27b9e012b7aabc47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f263554390369aa27b9e012b7aabc47">&#9670;&nbsp;</a></span>Copy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::shared_ptr&lt;<a class="el" href="classmodelbox_1_1Buffer.html">Buffer</a>&gt; modelbox::Buffer::Copy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy buffer, only copy object, share same data memory. </p>
<dl class="section return"><dt>Returns</dt><dd>related device of the buffer </dd></dl>

<p>Reimplemented in <a class="el" href="classmodelbox_1_1TensorBuffer.html#a5f105d5711a873c98576e777246b346c">modelbox::TensorBuffer</a>.</p>

</div>
</div>
<a id="aec921f373997727a752e38c70229a8aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec921f373997727a752e38c70229a8aa">&#9670;&nbsp;</a></span>CopyMeta()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classmodelbox_1_1Status.html">Status</a> modelbox::Buffer::CopyMeta </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1Buffer.html">Buffer</a> &gt;&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_override</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy meta from other buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>other buffer. </td></tr>
    <tr><td class="paramname">is_override</td><td>may override existing meta. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>copy result </dd></dl>

</div>
</div>
<a id="afea5dabd04437e67203827d9c9f50075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afea5dabd04437e67203827d9c9f50075">&#9670;&nbsp;</a></span>CopyTo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::shared_ptr&lt;<a class="el" href="classmodelbox_1_1Buffer.html">Buffer</a>&gt; modelbox::Buffer::CopyTo </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1Device.html">Device</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>dest_device</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy buffer, include meta and memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest_device</td><td>copy data to other device </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>related device of the buffer </dd></dl>

</div>
</div>
<a id="a5ce7c2e1bed21a42ec43d3fb4db719ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ce7c2e1bed21a42ec43d3fb4db719ec">&#9670;&nbsp;</a></span>DeepCopy() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::shared_ptr&lt;<a class="el" href="classmodelbox_1_1Buffer.html">Buffer</a>&gt; modelbox::Buffer::DeepCopy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy buffer, include meta and memory. </p>
<dl class="section return"><dt>Returns</dt><dd>related device of the buffer </dd></dl>

<p>Reimplemented in <a class="el" href="classmodelbox_1_1TensorBuffer.html#abb6a63e7b7a2226b47b469769cfe7fc5">modelbox::TensorBuffer</a>.</p>

</div>
</div>
<a id="ab47c97f78c0dd7a82da87992dc2ec75a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab47c97f78c0dd7a82da87992dc2ec75a">&#9670;&nbsp;</a></span>DeepCopy() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmodelbox_1_1Status.html">Status</a> modelbox::Buffer::DeepCopy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmodelbox_1_1Buffer.html">Buffer</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deep copy buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>device memory </dd></dl>

</div>
</div>
<a id="af9787e2c81a622256ede0738e2ce8e54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9787e2c81a622256ede0738e2ce8e54">&#9670;&nbsp;</a></span>Get() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool modelbox::Buffer::Get </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get meta key from the buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>meta key </td></tr>
    <tr><td class="paramname">value</td><td>meta value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether the key exists </dd></dl>

</div>
</div>
<a id="a97814d047dbd7efbe6f8387d47692dc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97814d047dbd7efbe6f8387d47692dc1">&#9670;&nbsp;</a></span>Get() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt;<a class="el" href="classmodelbox_1_1Any.html">Any</a>*, bool&gt; modelbox::Buffer::Get </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get value of key return tuple. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>meta key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>meta tuple </dd></dl>

</div>
</div>
<a id="a65a3ac5c47273f98a958f77563be5800"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65a3ac5c47273f98a958f77563be5800">&#9670;&nbsp;</a></span>Get() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename U &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void modelbox::Buffer::Get </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const U &amp;&#160;</td>
          <td class="paramname"><em>default_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get meta key from the buffer, when the key does not exist, return to the default value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>meta key </td></tr>
    <tr><td class="paramname">value</td><td>meta value </td></tr>
    <tr><td class="paramname">default_value</td><td>if key does not exist, return this value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5116eea5a7c22579d3e52e87beebab79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5116eea5a7c22579d3e52e87beebab79">&#9670;&nbsp;</a></span>GetBufferType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacemodelbox.html#a5a06cea5f657a09c4aae312ad2c64ede">BufferEnumType</a> modelbox::Buffer::GetBufferType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get buffer type. </p>
<dl class="section return"><dt>Returns</dt><dd>buffer type </dd></dl>

</div>
</div>
<a id="a65f167da469c1d9c808cb0192ba25fee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65f167da469c1d9c808cb0192ba25fee">&#9670;&nbsp;</a></span>GetBytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t modelbox::Buffer::GetBytes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get buffer size in bytes. </p>
<dl class="section return"><dt>Returns</dt><dd>buffer size in tyes </dd></dl>

</div>
</div>
<a id="a976c72d744d420986c3d5fce9652c4c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a976c72d744d420986c3d5fce9652c4c0">&#9670;&nbsp;</a></span>GetDelayedCopyFlag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool modelbox::Buffer::GetDelayedCopyFlag </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1Device.html">Device</a> &gt;&#160;</td>
          <td class="paramname"><em>target_device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get whether need to delayed copy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target_device</td><td>destination device </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>delayed copy flag. </dd></dl>

</div>
</div>
<a id="af79070b9934c4729b5d697bcee085148"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af79070b9934c4729b5d697bcee085148">&#9670;&nbsp;</a></span>GetDevice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classmodelbox_1_1Device.html">Device</a>&gt; modelbox::Buffer::GetDevice </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the device object related to the buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>related device of the buffer </dd></dl>

</div>
</div>
<a id="acdc0f80507f1c57b17e0fce2f40a3af7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdc0f80507f1c57b17e0fce2f40a3af7">&#9670;&nbsp;</a></span>GetDeviceMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classmodelbox_1_1DeviceMemory.html">DeviceMemory</a>&gt; modelbox::Buffer::GetDeviceMemory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get device memory of buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>device memory </dd></dl>

</div>
</div>
<a id="a6c88cd4d11c9b0d1940df1c83816442d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c88cd4d11c9b0d1940df1c83816442d">&#9670;&nbsp;</a></span>GetError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::shared_ptr&lt;<a class="el" href="classmodelbox_1_1FlowUnitError.html">FlowUnitError</a>&gt;&amp; modelbox::Buffer::GetError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get flowunit error. </p>
<dl class="section return"><dt>Returns</dt><dd>flowunit error </dd></dl>

</div>
</div>
<a id="a3aa4c88bff8ff9c4103959ab8a155af5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aa4c88bff8ff9c4103959ab8a155af5">&#9670;&nbsp;</a></span>HasError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool modelbox::Buffer::HasError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is there an error. </p>
<dl class="section return"><dt>Returns</dt><dd>whether has an error </dd></dl>

</div>
</div>
<a id="aea5498631dd0f3149181a18f4960c773"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea5498631dd0f3149181a18f4960c773">&#9670;&nbsp;</a></span>MoveToTargetDevice()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmodelbox_1_1Status.html">Status</a> modelbox::Buffer::MoveToTargetDevice </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>copy buffer data to destination device </p>
<dl class="section return"><dt>Returns</dt><dd>copy result </dd></dl>

</div>
</div>
<a id="a62055c674eea7e5469af8a53f3b5ddc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62055c674eea7e5469af8a53f3b5ddc3">&#9670;&nbsp;</a></span>MutableData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void* modelbox::Buffer::MutableData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get buffer mutable data pointer, if data is immutable, null pointer will return. </p>
<dl class="section return"><dt>Returns</dt><dd>mutable buffer data pointer </dd></dl>

<p>Reimplemented in <a class="el" href="classmodelbox_1_1TensorBuffer.html#ad786c1ce153a0d88454aab6fe0a3d0fa">modelbox::TensorBuffer</a>.</p>

</div>
</div>
<a id="a5a6fa603a2d042aad1b2ae808ea40055"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a6fa603a2d042aad1b2ae808ea40055">&#9670;&nbsp;</a></span>Set()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void modelbox::Buffer::Set </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set meta key to buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>meta key </td></tr>
    <tr><td class="paramname">value</td><td>meta value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8ac46421fe587f00e1614b9c45cf12c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ac46421fe587f00e1614b9c45cf12c4">&#9670;&nbsp;</a></span>SetBufferMutable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmodelbox_1_1Status.html">Status</a> modelbox::Buffer::SetBufferMutable </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_mutable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set data mutable. </p>
<dl class="section return"><dt>Returns</dt><dd>set result </dd></dl>

</div>
</div>
<a id="abe582791b129894c1608c68550b5eef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe582791b129894c1608c68550b5eef8">&#9670;&nbsp;</a></span>SetDelayedCopyDestinationDevice()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void modelbox::Buffer::SetDelayedCopyDestinationDevice </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1Device.html">Device</a> &gt;&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set delayed copy destination device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>target device </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a58cdbe509547e708ddbe2d87e555c728"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58cdbe509547e708ddbe2d87e555c728">&#9670;&nbsp;</a></span>SetDelayedCopyDestinationMemFlags()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void modelbox::Buffer::SetDelayedCopyDestinationMemFlags </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mem_flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set delayed copy destination device memory flag. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mem_flags</td><td>device memory flag </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5c1aad9a04ca913ac5dbc1bfa691b032"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c1aad9a04ca913ac5dbc1bfa691b032">&#9670;&nbsp;</a></span>SetError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classmodelbox_1_1Buffer.html">Buffer</a>&amp; modelbox::Buffer::SetError </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classmodelbox_1_1FlowUnitError.html">FlowUnitError</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Save error. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>flowuint error </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>buffer reference </dd></dl>

</div>
</div>
<a id="ab0837a8ed7c80ea82b165fe35baaa4c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0837a8ed7c80ea82b165fe35baaa4c5">&#9670;&nbsp;</a></span>SetGetBufferType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void modelbox::Buffer::SetGetBufferType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacemodelbox.html#a5a06cea5f657a09c4aae312ad2c64ede">BufferEnumType</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set buffer type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>type to set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/opt/modelarts-modelbox/modelbox_build/thirdparty/modelbox/src/libmodelbox/include/modelbox/<a class="el" href="buffer_8h_source.html">buffer.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
